# IBERTpy
Python tool to manage Vivado IBERT tests by generating TCL scripts to automate the interconnection between links in Vivado, configuring their respective polarities, running the BER tests and eye-scan measurements, plotting eye-diagrams, running eye-mask checks, generating horizontal, vertical, and area opening histograms, and compile all the results into a PDF report

![Alt text](docs/logo.png?raw=true "Title")

# Workflow using PCBpy and IBERTpy
![Alt text](docs/workflow.png?raw=true "Workflow")
If you do not have a Cadence Allegro Schematics, you can still use IBERTpy but you need to generate yourself the connectivity CSV files.

# Inputs:
1) Connectivity CSV files (in/csv) generated by PCBpy for Cadence Allegro PCB projects https://github.com/mvsoliveira/PCBpy
2) TCL (in/tcl) and LaTeX (in/tex) template files

# Outputs:

First Stage (ibert_tcl_tex_generator.py):
1) TCL (out/tcl) files to configure IBERT links connectivity, polarity and run settings
2) TEX files to compile all the eye diagrams in a single PDF

After this first stage, eye scan are gereated using Vivado driven by the TCL scripts generated in the previous step.
The CSV files generated by Vivado should be stored under scans/csv

Second stage:
1) PDF (out/pdf) files with summary scatter plots of eye openning (generate_all_hists.py)
2) PDF (scans/pdf) files with eye diagrams for every link in different configurations (generate_all_plots.py)

Third Stage:
1) PDF Report with all the eye diagrams (latex/report.tex)
